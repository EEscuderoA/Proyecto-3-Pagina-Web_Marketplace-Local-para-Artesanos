<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ArtesanosMX 췅 Cat치logo</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen bg-gradient-to-br from-gray-900 via-green-900 to-emerald-800 text-gray-100 font-sans">

<nav class="bg-gray-800 bg-opacity-90 sticky top-0 z-50 border-b border-gray-700">
  <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">

    <!-- Logo -->
    <div class="flex items-center gap-4">
      <h1 class="text-2xl font-bold text-emerald-300 tracking-wide">游 ArtesanosMX</h1>
    </div>

    <span id="userBadge" class="text-sm text-gray-300 hidden"></span>

    <!-- Mapa + Carrito juntos a la derecha -->
    <div class="flex items-center gap-6">

      <!-- Bot칩n MAPA (ahora junto al carro, pero con espacio) -->
      <a href="mapa.html" class="flex flex-col items-center leading-tight hover:text-emerald-300 transition mr-2">
        <span class="text-2xl">游깴</span>
        <span class="text-xs text-gray-300 font-medium tracking-wide">Mapa</span>
      </a>

      <!-- Carrito -->
      <a href="carrito.html" class="relative text-xl text-gray-200 hover:text-emerald-300 transition">
        游
        <span id="cartCount" class="absolute -top-2 -right-3 bg-emerald-500 text-white px-2 py-0.5 text-xs rounded-full shadow">
          0
        </span>
      </a>

    </div>

  </div>
</nav>


<header class="relative bg-cover bg-center text-white py-20 text-center" style="background-image:url('https://picsum.photos/1200/500?blur=2');">
  <div class="absolute inset-0 bg-black bg-opacity-40"></div>
  <div class="relative z-10">
    <h2 class="text-4xl md:text-5xl font-extrabold text-emerald-300 drop-shadow-lg">Artesan칤a Local, Talento Real</h2>
    <p class="mt-3 text-lg opacity-90">Descubre productos aut칠nticos y apoya a los creadores de tu zona.</p>
  </div>
</header>

<main class="max-w-6xl mx-auto px-6 py-12">
  <div class="flex items-center justify-between mb-6">
    <h3 class="text-2xl font-semibold">Cat치logo</h3>
    <div class="flex items-center gap-3">
      <select id="filterCat" class="bg-gray-800 border border-gray-700 px-3 py-2 rounded text-gray-200">
        <option value="">Todas las categor칤as</option>
        <option value="Cer치mica">Cer치mica</option>
        <option value="Textil">Textil</option>
        <option value="Gastronom칤a">Gastronom칤a</option>
      </select>
      <input id="q" placeholder="Buscar..." class="px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-200" />
    </div>
  </div>

  <section id="grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
  </section>
</main>

<footer class="py-8 text-center text-gray-400">춸 2025 ArtesanosMX</footer>

<script>
const products = [
  {id:'p1', title:'Jarra de Barro', price:350, category:'Cer치mica', vendor:'Don Mauro', img:'img/jarrabarro.jpg'},
  {id:'p2', title:'Taza Pintada', price:220, category:'Cer치mica', vendor:'Do침a Lupita', img:'img/tasapintada.jpg'},
  {id:'p3', title:'Bolsa Tejida', price:450, category:'Textil', vendor:'Do침a Carmen', img:'img/bolsatejida.jpg'},
  {id:'p4', title:'Dulces Regionales', price:120, category:'Gastronom칤a', vendor:'La Abuela', img:'img/dulcesregionales.jpeg'},
];

function renderGrid(list){
  const grid = document.getElementById('grid'); 
  grid.innerHTML='';
  list.forEach(p=>{
    const el = document.createElement('article');
    el.className = 'bg-gray-800 bg-opacity-90 rounded-xl shadow-md overflow-hidden border border-gray-700 p-4 flex flex-col hover:shadow-xl transition';
    el.innerHTML = `
      <img src="${p.img}" class="w-full h-44 object-cover rounded-lg">
      <h4 class="mt-3 font-bold text-gray-100">${p.title}</h4>
      <p class="text-sm text-gray-400">${p.vendor} 췅 ${p.category}</p>
      <div class="mt-2 flex items-center gap-3">
        <div class="text-emerald-300 font-semibold">Rp ${p.price}</div>
        <button data-id="${p.id}" class="ml-auto bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-3 py-1 rounded hover:scale-105 transition addBtn">A침adir</button>
      </div>
    `;
    grid.appendChild(el);
  });
  attachAdd();
}

function getCart(){ return JSON.parse(localStorage.getItem('cart_v1')||'{}'); }
function setCart(c){ localStorage.setItem('cart_v1', JSON.stringify(c)); updateCount(); }
function updateCount(){ const total = Object.values(getCart()).reduce((s,i)=>s+i.qty,0); document.getElementById('cartCount').textContent = total; }

function attachAdd(){ 
  document.querySelectorAll('.addBtn').forEach(b=>{
    b.onclick=()=>{
      const id=b.dataset.id; 
      const cart=getCart(); 
      const p=products.find(x=>x.id===id);
      if(cart[id]) cart[id].qty++;
      else cart[id]={id, title:p.title, price:p.price, qty:1, img:p.img};
      setCart(cart);
      alert(`${p.title} a침adido (sim)`);
    };
  });
}

document.getElementById('filterCat').onchange = applyFilters;
document.getElementById('q').oninput = applyFilters;

function applyFilters(){
  const cat = document.getElementById('filterCat').value.toLowerCase();
  const q = document.getElementById('q').value.toLowerCase();
  const list = products.filter(p=> (!cat || p.category.toLowerCase()===cat) && (p.title.toLowerCase().includes(q) || p.vendor.toLowerCase().includes(q)));
  renderGrid(list);
}

renderGrid(products);
updateCount();
</script>
</body>
</html>